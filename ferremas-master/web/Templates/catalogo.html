<!DOCTYPE html>
{% load static %}
{% load humanize %}

<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FERREMAS - Catálogo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'web/css/style.css' %}">
</head>
<body>
  <!-- NAVBAR -->
{% include 'partials/navbar.html' %}

  <!-- Selector de moneda -->
  <div class="bg-light py-2 px-3 d-flex justify-content-end align-items-center gap-2">
    <label for="selector-moneda" class="mb-0 fw-bold">Moneda:</label>
    <select id="selector-moneda" class="form-select form-select-sm w-auto">
      <option value="CLP">CLP</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select>
  </div>

  <!-- Catálogo de productos -->
  <main class="container mt-5">
    <h1 class="text-center mb-4">Catálogo de Productos</h1>
    <div class="row g-4">
  {% for producto in datos %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
      <div class="card h-100">
        <img src="{{ producto.urlImagen }}" class="card-img-top" alt="{{ producto.nombre }}">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ producto.nombre }}</h5>
          <p class="card-text text-muted mb-1">{{ producto.marca.nombre }}</p>
          <p class="card-text mb-2">{{ producto.descripcion }}</p>
          <p class="price fw-bold">${{ producto.precio|intcomma }}</p>
          <button type="button" class="btn btn-primary w-100 mt-auto" disabled>Agregar al carrito</button>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-center">No hay productos disponibles en este momento.</p>
  {% endfor %}
</div>


    <div id="idMensajes" class="mt-4">
      {% if mensaje %}
        <div class="alert alert-success" role="alert">
          {{ mensaje }}
        </div>
      {% endif %}
    </div>
  </main>

  
  {% include 'partials/footer.html' %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="{% static 'web/js/moneda.js' %}"></script>
</body>
</html>
